{% extends "base.html" %}
{% load static %}


{% block title %}My Bookings - Shumba Valeting{% endblock %}

{% block nav_image %}
<!-- No image by default -->
{% endblock %}


{% block content %}
<h2>My Bookings</h2>

{% if bookings %}
<table class="table table-dark table-striped">
  <thead>
    <tr>
      <th>Date</th>
      <th>Time Slot</th>
      <th>Package</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {% for booking in bookings %}
    <tr>
      <td>{{ booking.date }}</td>
      <td>{{ booking.get_time_slot_display }}</td>
      <td>{{ booking.package.name }}</td>
      <td>
        <!-- Edit button -->
        <a href="{% url 'edit_booking' booking.id %}" class="btn btn-warning btn-sm">
          Edit
        </a>
      
        <!-- Cancel button -->
        <a href="?cancel={{ booking.id }}" class="btn btn-danger btn-sm"
           onclick="return confirm('Are you sure you want to cancel this booking?');">
           Cancel
        </a>
      </td>
      
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>You have no bookings yet.</p>
{% endif %}
</script>
{% endblock %}
